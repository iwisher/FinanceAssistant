<!-- templates/downloads.html -->
{% extends "base.html" %}

{% block content %}
<div class="overflow-hidden rounded-lg shadow-lg">
    <table class="min-w-full divide-y divide-gray-700">
        <thead class="bg-gray-800">
            <tr>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Video URL</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Audio File</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Transcript</th>
                <th class="px-6 py-3 text-left text-xs font-medium text-gray-300 uppercase tracking-wider">Downloaded</th>
            </tr>
        </thead>
        <tbody class="bg-gray-900 divide-y divide-gray-700">
            {% for download in downloads %}
            <tr>
                <td class="px-6 py-4 whitespace-nowrap">
                    <a href="{{ download.video_url }}" target="_blank" 
                        class="text-blue-400 hover:text-blue-300 truncate max-w-[200px] block">
                        {{ download.video_url }}
                    </a>
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                    {{ download.audio_file_path or 'N/A' }}
                </td>
                <td class="px-6 py-4 whitespace-nowrap">
                    {% if download.transcript_file_path %}
                    <a href="{{ download.transcript_file_path }}" 
                        class="text-blue-400 hover:text-blue-300">View Transcript</a>
                    {% else %}
                    <span class="text-gray-500">N/A</span>
                    {% endif %}
                </td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-300">
                    {{ download.download_time }}
                </td>
            </tr>
            {% else %}
            <tr>
                <td colspan="4" class="px-6 py-4 text-center text-gray-500">
                    No downloads found
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}